(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){e.exports=a(35)},27:function(e,t,a){},29:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(15),r=a.n(c),o=(a(27),a(29),a(38)),s=a(37),l=a(16),d=a(3),h=a(4),u=a(8),v=a(6),C=a(7),m=a(2),p=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(u.a)(this,Object(v.a)(t).call(this,e))).state={email:"",password:""},a.handleChange=a._onChange.bind(Object(m.a)(Object(m.a)(a))),a.handleSubmit=a._onSubmit.bind(Object(m.a)(Object(m.a)(a))),a}return Object(C.a)(t,e),Object(h.a)(t,[{key:"_onChange",value:function(e){var t=e.target,a=t.getAttribute("data-state-field"),n=t.value;this.setState(Object(l.a)({},a,n))}},{key:"_onSubmit",value:function(e){e.preventDefault(),alert("Log in for: "+JSON.stringify(this.state))}},{key:"render",value:function(){return i.a.createElement("div",{className:"login-container"},i.a.createElement("h1",null,"Login"),i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",null,i.a.createElement("label",null,"email"),i.a.createElement("input",{type:"email",value:this.state.email,"data-state-field":"email",onChange:this.handleChange})),i.a.createElement("div",null,i.a.createElement("label",null,"password"),i.a.createElement("input",{type:"text",value:this.state.password,"data-state-field":"password",onChange:this.handleChange})),i.a.createElement("input",{type:"submit",value:"Submit"})))}}]),t}(n.Component),f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(d.a)(this,e),this._initializeCollection(t.collection),this.defaults=Object.freeze(t.defaults),this.length=this._onGetLength.bind(this),this.all=this._onGetAll.bind(this),this.findById=this._onFindById.bind(this),this.findWhere=this._onFindWhere.bind(this),this.add=this._onAdd.bind(this),this.update=this._onUpdate.bind(this)}return Object(h.a)(e,[{key:"_initializeCollection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.collection=this._copy(e)}},{key:"_copy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return JSON.parse(JSON.stringify(e))}},{key:"_onGetAll",value:function(){return this._copy(this.collection)}},{key:"_onGetLength",value:function(){return this.collection.length}},{key:"_onFindById",value:function(e){var t=this.collection.find(function(t){return t.id===e});return t?this._copy(t):void 0}},{key:"_onFindWhere",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.all(this.collection);return Object.keys(e).forEach(function(a){var n=e[a];t=t.filter(function(e){return e[a]===n})}),t}},{key:"_onAdd",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[{},this.defaults,{id:this._getNewId()},e],a=Object.assign.apply(Object,t);return this.collection.push(a),this._copy(a)}},{key:"_onUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id;if(e.id){var a=this._copy(this.collection),n=a.find(function(e){return e.id===t});if(n)return n=Object.assign(n,e),this.collection=a,this._copy(n)}}},{key:"_getNewId",value:function(){return this.collection.reduce(function(e,t){return Math.max(e,t.id)},0)+1}}]),e}(),g=new f({collection:[{id:1,name:"Character",description:"A list of major and minor characters",color:"red"},{id:2,name:"Location",description:"Noteworthy locations",color:"green"}],defaults:{name:"New Category",description:"This is a new Category",color:"red"}}),y=new f({collection:[{id:1,categoryId:1,name:"Allan Goode",description:"Generally a good guy who's done amazing heroics",text:"Born in a small village, blah blah blah blah"},{id:2,categoryId:1,name:"Jerry Smith",description:"Yawn",text:"Lorem ipsum blah blah blah"},{id:3,categoryId:1,name:"Mike Truck",description:"Built like a truck",text:"Part man, part car"},{id:4,categoryId:2,name:"Riverbend",description:"Small river fishing village",text:"The birthplace of Allan Goode, this is blah blah blah"},{id:5,categoryId:2,name:"Rocksville",description:"Mining camp",text:"hi ho hi ho"}],defaults:{name:"New Card",description:"This is a new card",text:"Insert text here"}}),b=a(11);function k(e){var t="name";return e.isActive&&(t+=" active"),i.a.createElement("span",{className:t,alt:e.isActive?"Active Card":"",onClick:function(){return e.handleChangeCard(e.card.id)}},e.card.name)}var O=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(u.a)(this,Object(v.a)(t).call(this,e))).state={cards:e.cards,activeCardId:e.activeCardId,activeCategoryId:e.activeCategoryId},a}return Object(C.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.setStateDelayed({show:!0})}},{key:"componentWillUnmount",value:function(){this.clearTimeout()}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){this.timeOut&&clearTimeout(this.timeOut)})},{key:"setStateDelayed",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;this.timeOut=setTimeout(function(){t.setState(e)},a)}},{key:"componentWillReceiveProps",value:function(e){e.activeCategoryId!==this.props.activeCategoryId&&this.setState({activeCategoryId:e.activeCategoryId}),JSON.stringify(e.cards)!==JSON.stringify(this.props.cards)?(this.clearTimeout(),this.setState({show:!1}),this.setStateDelayed({cards:e.cards,show:!0,activeCardId:e.activeCardId})):e.activeCardId!==this.props.activeCardId&&this.setState({activeCardId:e.activeCardId})}},{key:"render",value:function(){var e=this,t=this.state.cards.map(function(t){return i.a.createElement("li",{key:t.id},i.a.createElement(k,{isActive:t.id===e.state.activeCardId,handleChangeCard:e.props.handleChangeCard,card:t}))}),a="card-list list-container";return this.state.show&&(a+=" show"),i.a.createElement("nav",{className:a},i.a.createElement("ul",null,t,i.a.createElement("li",{className:"add-button",key:"addCard",onClick:function(){return e.props.handleAddCard(e.state.activeCategoryId)}},i.a.createElement(b.a,{icon:["far","plus-square"]}))))}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(u.a)(this,Object(v.a)(t).call(this,e))).state={show:e.show||!1},a}return Object(C.a)(t,e),Object(h.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.show!==this.props.show&&this.setState({show:e.show})}},{key:"render",value:function(){var e=this,t="cancel-confirm";return this.state.show&&(t+=" show"),i.a.createElement("span",{className:t},i.a.createElement("span",{className:"cancel-button button",onClick:function(){return e.props.handleClickCancel()}},i.a.createElement(b.a,{icon:["far","times-circle"]})),i.a.createElement("span",{className:"confirm-button button",onClick:function(){return e.props.handleClickConfirm()}},i.a.createElement(b.a,{icon:["far","check-circle"]})))}}]),t}(n.Component),E=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(u.a)(this,Object(v.a)(t).call(this,e))).state={text:e.text,isActive:e.isActive||!1},a.input=i.a.createRef(),a.handleChangeActive=a._onChangeActive.bind(Object(m.a)(Object(m.a)(a))),a.handleClickCancel=a._onClickCancel.bind(Object(m.a)(Object(m.a)(a))),a.handleClickConfirm=a._onClickConfirm.bind(Object(m.a)(Object(m.a)(a))),a}return Object(C.a)(t,e),Object(h.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.text!==this.props.text&&this.setState({text:e.text})}},{key:"componentDidMount",value:function(){this.state.isActive&&this.focus()}},{key:"_onChangeActive",value:function(e){this.setState({isActive:e}),e&&this.focus()}},{key:"focus",value:function(){var e=this;setTimeout(function(){e.input.current.focus()},0)}},{key:"_onClickCancel",value:function(){this.input.current.innerText=this.state.text,this.handleChangeActive(!1),this.props.handleClickCancel&&this.props.handleClickCancel()}},{key:"_onClickConfirm",value:function(){this.handleChangeActive(!1);var e=this.input.current.innerText||this.props.defaultText;this.props.handleClickConfirm(e)}},{key:"render",value:function(){var e=this,t=this.state.text||this.props.defaultText,a="editor";return this.state.isActive&&(a+=" focus"),i.a.createElement("span",{className:"editor-container"},i.a.createElement("span",{ref:this.input,className:a,onClick:function(){return e.handleChangeActive(!0)},contentEditable:this.state.isActive},t),i.a.createElement(j,{show:this.state.isActive,handleClickCancel:function(){return e.handleClickCancel()},handleClickConfirm:function(){return e.handleClickConfirm()}}))}}]),t}(n.Component),I=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(u.a)(this,Object(v.a)(t).call(this,e))).state={isActive:e.isActive,isEditor:!1,category:e.category},a.handleClickEdit=a._onClickEdit.bind(Object(m.a)(Object(m.a)(a))),a.handleClickCancel=a._onClickCancel.bind(Object(m.a)(Object(m.a)(a))),a}return Object(C.a)(t,e),Object(h.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.state.category!==e.category&&this.setState({category:e.category}),this.state.isActive!==e.isActive&&this.setState({isActive:e.isActive})}},{key:"_onClickEdit",value:function(){this.setState({isEditor:!0})}},{key:"_onClickCancel",value:function(){this.setState({isEditor:!1})}},{key:"render",value:function(){var e=this,t=this.state.category,a=this.state.isActive,n=this.state.isEditor,c=i.a.createElement("span",{className:"edit-button",onClick:this.handleClickEdit},i.a.createElement(b.a,{icon:["far","edit"]})),r="name";a&&(r+=" active");var o=i.a.createElement("span",{className:r,alt:a?"Active Category":"",onClick:function(){return e.props.handleChangeCategory(t.id)}},t.name),s=i.a.createElement(E,{text:t.name,defaultText:"Untitled",handleClickCancel:this.handleClickCancel,handleClickConfirm:function(a){e.setState({isEditor:!1}),e.props.handleUpdateCategory(t.id,{name:a})},isActive:!0}),l=n?s:o;return i.a.createElement("li",{key:t.id},l,n?"":c)}}]),t}(n.Component),A=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(u.a)(this,Object(v.a)(t).call(this,e))).state={categories:e.categories,activeCategoryId:e.activeCategoryId},a}return Object(C.a)(t,e),Object(h.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.activeCategoryId!==this.props.activeCategoryId&&this.setState({activeCategoryId:e.activeCategoryId}),e.categories!==this.props.categories&&this.setState({categories:e.categories})}},{key:"render",value:function(){var e=this,t=this.state.categories.map(function(t){return i.a.createElement(I,{category:t,isActive:t.id===e.state.activeCategoryId,handleChangeCategory:e.props.handleChangeCategory,handleUpdateCategory:e.props.handleUpdateCategory})});return i.a.createElement("nav",{className:"category-list list-container"},i.a.createElement("ul",null,t,i.a.createElement("li",{className:"add-button",key:"addCategory",onClick:function(){return e.props.handleAddCategory()}},i.a.createElement(b.a,{icon:["far","plus-square"]}))))}}]),t}(n.Component),_=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(u.a)(this,Object(v.a)(t).call(this,e))).state={card:e.card},a}return Object(C.a)(t,e),Object(h.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.card!==this.props.card&&this.setState({card:e.card})}},{key:"render",value:function(){var e=this,t=this.state.card;return t?i.a.createElement("article",{className:"card-container"},i.a.createElement("header",null,i.a.createElement("h1",{className:"card-name"},i.a.createElement(E,{text:t.name,defaultText:"Untitled",handleClickConfirm:function(a){e.props.handleUpdateCard(t.id,{name:a})}}))),i.a.createElement("section",null,i.a.createElement("header",{class:"card-section-header"},"Summary"),i.a.createElement("div",{className:"card-description"},i.a.createElement(E,{text:t.description,defaultText:"Insert a summary",handleClickConfirm:function(a){e.props.handleUpdateCard(t.id,{description:a})}}))),i.a.createElement("main",null,i.a.createElement("header",{class:"card-section-header"},"Notes"),i.a.createElement("div",{className:"card-text"},i.a.createElement(E,{text:t.text,defaultText:"Insert notes here",handleClickConfirm:function(a){e.props.handleUpdateCard(t.id,{text:a})}})))):null}}]),t}(n.Component),w=function(e){function t(e){var a;Object(d.a)(this,t),a=Object(u.a)(this,Object(v.a)(t).call(this,e));var n=g.all(),i=n[0].id,c=y.findWhere({categoryId:i}),r=c[0].id;return a.state={categories:n,cards:c,activeCategoryId:i,activeCardId:r},a.handleAddCategory=a._onAddCategory.bind(Object(m.a)(Object(m.a)(a))),a.handleChangeCategory=a._onChangeCategory.bind(Object(m.a)(Object(m.a)(a))),a.handleUpdateCategory=a._onUpdateCategory.bind(Object(m.a)(Object(m.a)(a))),a.handleChangeCard=a._onChangeCard.bind(Object(m.a)(Object(m.a)(a))),a.handleAddCard=a._onAddCard.bind(Object(m.a)(Object(m.a)(a))),a.handleUpdateCard=a._onUpdateCard.bind(Object(m.a)(Object(m.a)(a))),a}return Object(C.a)(t,e),Object(h.a)(t,[{key:"_onChangeCategory",value:function(e){var t=y.findWhere({categoryId:e})[0]||{};this.setState({activeCategoryId:e,activeCardId:t.id})}},{key:"_onAddCategory",value:function(e){var t=g.add(e);this.setState({categories:g.all(),activeCategoryId:t.id})}},{key:"_onUpdateCategory",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object.assign({id:e},t);g.update(a),this.setState({categories:g.all()})}},{key:"_onAddCard",value:function(e,t){var a=Object.assign({},{categoryId:e},t),n=y.add(a);this.setState({cards:y.all(),activeCardId:n.id})}},{key:"_onUpdateCard",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object.assign({id:e},t);y.update(a),this.setState({cards:y.all()})}},{key:"getActiveCard",value:function(){var e=this.state.activeCardId;return y.findById(e)}},{key:"getActiveCards",value:function(){var e=this.state.activeCategoryId;return y.findWhere({categoryId:e})}},{key:"_onChangeCard",value:function(e){this.setState({activeCardId:e})}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(A,{categories:this.state.categories,activeCategoryId:this.state.activeCategoryId,handleChangeCategory:this.handleChangeCategory,handleAddCategory:this.handleAddCategory,handleUpdateCategory:this.handleUpdateCategory}),i.a.createElement(O,{cards:this.getActiveCards(),activeCategoryId:this.state.activeCategoryId,activeCardId:this.state.activeCardId,handleChangeCard:this.handleChangeCard,handleAddCard:this.handleAddCard}),i.a.createElement(_,{card:this.getActiveCard(),handleUpdateCard:this.handleUpdateCard}))}}]),t}(n.Component),S=a(12),x=a(17),N=a(18),U=a(19);S.b.add(x.a,N.a,U.a);var T=a(36);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(T.a,null,i.a.createElement(function(){return i.a.createElement("main",null,i.a.createElement(o.a,null,i.a.createElement(s.a,{exact:!0,path:"/",component:w}),i.a.createElement(s.a,{path:"/login",component:p}),i.a.createElement(s.a,{component:w})))},null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[22,2,1]]]);
//# sourceMappingURL=main.571669b1.chunk.js.map