(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){e.exports=a(27)},20:function(e,t,a){},22:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(11),c=a.n(r),o=(a(20),a(3)),s=a(4),d=a(7),l=a(5),h=a(6),u=a(2),v=(a(22),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(o.a)(this,e),this._initializeCollection(t.collection),this.defaults=this._copy(t.defaults),this.length=this._onGetLength.bind(this),this.all=this._onGetAll.bind(this),this.findById=this._onFindById.bind(this),this.findWhere=this._onFindWhere.bind(this),this.add=this._onAdd.bind(this),this.update=this._onUpdate.bind(this)}return Object(s.a)(e,[{key:"_initializeCollection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.collection=this._copy(e)}},{key:"_copy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return JSON.parse(JSON.stringify(e))}},{key:"_onGetAll",value:function(){return this._copy(this.collection)}},{key:"_onGetLength",value:function(){return this.collection.length}},{key:"_onFindById",value:function(e){var t=this.collection.find(function(t){return t.id===e});return t?this._copy(t):void 0}},{key:"_onFindWhere",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.all(this.collection);return Object.keys(e).forEach(function(a){var n=e[a];t=t.filter(function(e){return e[a]===n})}),t}},{key:"_onAdd",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[this.defaults,{id:this._getNewId()},e],a=Object.assign.apply(Object,t);return this.collection.push(a),this._copy(a)}},{key:"_onUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id;if(e.id){var a=this._copy(this.collection),n=a.find(function(e){return e.id===t});if(n)return n=Object.assign(n,e),this.collection=a,this._copy(n)}}},{key:"_getNewId",value:function(){return this.collection.reduce(function(e,t){return Math.max(e,t.id)},0)+1}}]),e}()),C=new v({collection:[{id:1,name:"Character",description:"A list of major and minor characters",color:"red"},{id:2,name:"Location",description:"Noteworthy locations",color:"green"}],defaults:{name:"New Category",description:"This is a new Category",color:"red"}}),m=new v({collection:[{id:1,categoryId:1,name:"Allan Goode",description:"Generally a good guy who's done amazing heroics",text:"Born in a small village, blah blah blah blah"},{id:2,categoryId:1,name:"Jerry Smith",description:"Yawn",text:"Lorem ipsum blah blah blah"},{id:3,categoryId:1,name:"Mike Truck",description:"Built like a truck",text:"Part man, part car"},{id:4,categoryId:2,name:"Riverbend",description:"Small river fishing village",text:"The birthplace of Allan Goode, this is blah blah blah"},{id:5,categoryId:2,name:"Rocksville",description:"Mining camp",text:"hi ho hi ho"}],defaults:{name:"New Card",description:"This is a new card",text:"Insert text here"}}),f=a(8),p=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(l.a)(t).call(this,e))).state={categories:e.categories,activeCategoryId:e.activeCategoryId},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.activeCategoryId!==this.props.activeCategoryId&&this.setState({activeCategoryId:e.activeCategoryId}),e.categories!==this.props.categories&&this.setState({categories:e.categories})}},{key:"render",value:function(){var e=this,t=this.state.categories.map(function(t){var a=t.id===e.state.activeCategoryId,n=i.a.createElement("span",{className:"edit-button"},i.a.createElement(f.a,{icon:["far","edit"]})),r="name";a&&(r+=" active");var c=i.a.createElement("span",{className:r,alt:a?"Active Category":"",onClick:function(){return e.props.handleChangeCategory(t.id)}},t.name);return i.a.createElement("li",{key:t.id},c,n)});return i.a.createElement("nav",{className:"category-list list-container"},i.a.createElement("ul",null,t,i.a.createElement("li",{className:"add-button",key:"addCategory",onClick:function(){return e.props.handleAddCategory()}},i.a.createElement(f.a,{icon:["far","plus-square"]}))))}}]),t}(n.Component),g=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(l.a)(t).call(this,e))).state={cards:e.cards,activeCardId:e.activeCardId,activeCategoryId:e.activeCategoryId},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setStateDelayed({show:!0})}},{key:"componentWillUnmount",value:function(){this.clearTimeout()}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){this.timeOut&&clearTimeout(this.timeOut)})},{key:"setStateDelayed",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;this.timeOut=setTimeout(function(){t.setState(e)},a)}},{key:"componentWillReceiveProps",value:function(e){e.activeCategoryId!==this.props.activeCategoryId&&this.setState({activeCategoryId:e.activeCategoryId}),JSON.stringify(e.cards)!==JSON.stringify(this.props.cards)?(this.clearTimeout(),this.setState({show:!1}),this.setStateDelayed({cards:e.cards,show:!0,activeCardId:e.activeCardId})):e.activeCardId!==this.props.activeCardId&&this.setState({activeCardId:e.activeCardId})}},{key:"render",value:function(){var e=this,t=this.state.cards.map(function(t){var a=t.id===e.state.activeCardId,n=i.a.createElement("span",{className:"edit-button"},i.a.createElement(f.a,{icon:["far","edit"]})),r="name";a&&(r+=" active");var c=i.a.createElement("span",{className:r,alt:a?"Active Card":"",onClick:function(){return e.props.handleChangeCard(t.id)}},t.name);return i.a.createElement("li",{key:t.id},c,n)}),a="card-list list-container";return this.state.show&&(a+=" show"),i.a.createElement("nav",{className:a},i.a.createElement("ul",null,t,i.a.createElement("li",{className:"add-button",key:"addCard",onClick:function(){return e.props.handleAddCard(e.state.activeCategoryId)}},i.a.createElement(f.a,{icon:["far","plus-square"]}))))}}]),t}(n.Component),y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(l.a)(t).call(this,e))).state={show:e.show||!1},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.show!==this.props.show&&this.setState({show:e.show})}},{key:"render",value:function(){var e=this,t="cancel-confirm";return this.state.show&&(t+=" show"),i.a.createElement("span",{className:t},i.a.createElement("span",{className:"cancel-button button",onClick:function(){return e.props.handleClickCancel()}},i.a.createElement(f.a,{icon:["far","times-circle"]})),i.a.createElement("span",{className:"confirm-button button",onClick:function(){return e.props.handleClickConfirm()}},i.a.createElement(f.a,{icon:["far","check-circle"]})))}}]),t}(n.Component),b=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(l.a)(t).call(this,e))).state={text:e.text,isActive:!1},a.input=i.a.createRef(),a.handleChangeActive=a._onChangeActive.bind(Object(u.a)(Object(u.a)(a))),a.handleClickCancel=a._onClickCancel.bind(Object(u.a)(Object(u.a)(a))),a.handleClickConfirm=a._onClickConfirm.bind(Object(u.a)(Object(u.a)(a))),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.text!==this.props.text&&this.setState({text:e.text})}},{key:"_onChangeActive",value:function(e){var t=this;this.setState({isActive:e}),e&&setTimeout(function(){t.input.current.focus()},0)}},{key:"_onClickCancel",value:function(){this.input.current.innerText=this.state.text,this.handleChangeActive(!1)}},{key:"_onClickConfirm",value:function(){this.handleChangeActive(!1);var e=this.input.current.innerText||this.props.defaultText;this.props.handleClickConfirm(e)}},{key:"render",value:function(){var e=this,t=this.state.text||this.props.defaultText,a="editor";return this.state.isActive&&(a+=" focus"),i.a.createElement("span",{className:"editor-container"},i.a.createElement("span",{ref:this.input,className:a,onClick:function(){return e.handleChangeActive(!0)},contentEditable:this.state.isActive},t),i.a.createElement(y,{show:this.state.isActive,handleClickCancel:function(){return e.handleClickCancel()},handleClickConfirm:function(){return e.handleClickConfirm()}}))}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(l.a)(t).call(this,e))).state={card:e.card},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.card!==this.props.card&&this.setState({card:e.card})}},{key:"render",value:function(){var e=this,t=this.state.card;return t?i.a.createElement("article",{className:"card-container"},i.a.createElement("header",null,i.a.createElement("h1",{className:"card-name"},i.a.createElement(b,{text:t.name,defaultText:"Untitled",handleClickConfirm:function(a){e.props.handleUpdateCard(t.id,{name:a})}}))),i.a.createElement("section",null,i.a.createElement("header",{class:"card-section-header"},"Summary"),i.a.createElement("div",{className:"card-description"},i.a.createElement(b,{text:t.description,defaultText:"Insert a summary",handleClickConfirm:function(a){e.props.handleUpdateCard(t.id,{description:a})}}))),i.a.createElement("main",null,i.a.createElement("header",{class:"card-section-header"},"Notes"),i.a.createElement("div",{className:"card-text"},i.a.createElement(b,{text:t.text,defaultText:"Insert notes here",handleClickConfirm:function(a){e.props.handleUpdateCard(t.id,{text:a})}})))):null}}]),t}(n.Component),O=a(9),I=a(12),j=a(13),E=a(14);O.b.add(I.a,j.a,E.a);var _=function(e){function t(e){var a;Object(o.a)(this,t),a=Object(d.a)(this,Object(l.a)(t).call(this,e));var n=C.all(),i=n[0].id,r=m.findWhere({categoryId:i}),c=r[0].id;return a.state={categories:n,cards:r,activeCategoryId:i,activeCardId:c},a.handleChangeCategory=a._onChangeCategory.bind(Object(u.a)(Object(u.a)(a))),a.handleChangeCard=a._onChangeCard.bind(Object(u.a)(Object(u.a)(a))),a.handleAddCategory=a._onAddCategory.bind(Object(u.a)(Object(u.a)(a))),a.handleAddCard=a._onAddCard.bind(Object(u.a)(Object(u.a)(a))),a.handleUpdateCard=a._onUpdateCard.bind(Object(u.a)(Object(u.a)(a))),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"_onChangeCategory",value:function(e){var t=m.findWhere({categoryId:e})[0]||{};this.setState({activeCategoryId:e,activeCardId:t.id})}},{key:"_onAddCategory",value:function(e){var t=C.add(e);this.setState({categories:C.all(),activeCategoryId:t.id})}},{key:"_onAddCard",value:function(e,t){var a=Object.assign({},{categoryId:e},t),n=m.add(a);this.setState({cards:m.all(),activeCardId:n.id})}},{key:"_onUpdateCard",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object.assign({id:e},t);m.update(a),this.setState({cards:m.all()})}},{key:"getActiveCard",value:function(){var e=this.state.activeCardId;return m.findById(e)}},{key:"getActiveCards",value:function(){var e=this.state.activeCategoryId;return m.findWhere({categoryId:e})}},{key:"_onChangeCard",value:function(e){this.setState({activeCardId:e})}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(p,{categories:this.state.categories,activeCategoryId:this.state.activeCategoryId,handleChangeCategory:this.handleChangeCategory,handleAddCategory:this.handleAddCategory}),i.a.createElement(g,{cards:this.getActiveCards(),activeCategoryId:this.state.activeCategoryId,activeCardId:this.state.activeCardId,handleChangeCard:this.handleChangeCard,handleAddCard:this.handleAddCard}),i.a.createElement(k,{card:this.getActiveCard(),handleUpdateCard:this.handleUpdateCard}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[15,2,1]]]);
//# sourceMappingURL=main.07114cc8.chunk.js.map